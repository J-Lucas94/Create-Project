<div class="m-auto col-8">
    <div class="d-flex">
        <div class="form-group col-3 m-auto">
            <h2 class="display-6 tituto mt-5">Procedimento</h2>
        </div>
    </div>
</div>

<form>
    <div class="form-row m-auto">
        <div class="form-group col-6 m-auto">
            <label><span class="text-danger">*</span>Descrição</label>
            <input type="text" class="form-control mb-3" name="descricao" id="descricao" placeholder="Descrição..." required>
        </div>
    </div>

    <div class="d-flex m-auto">
        <div class="form-group col-1 m-auto">
            <button id="btn" type="button" class="btn btn-lg btn-primary btn-block mb-3 ">Cadastrar</button>
        </div>
    </div>
</form>

<script>

    let btn = document.querySelector('#btn')

    btn.addEventListener('click', async () => {
        let descricao = document.querySelector('#descricao').value

        if (descricao == "") {
            return swal("Error !", "Preencha o campo Descrição !", "error")
        }

        const response = await fetch('/canil/registrarproc', {
                method: 'POST',
                headers: {
                    "Content-Type": "application/json",
                    'Accept': 'application/json'
                },
                body: JSON.stringify({descricao})
            })

            if(response.status == 200){
                return swal("Sucesso !", "Procedimento registrado com sucesso!", "success")
            }
    })



</script>